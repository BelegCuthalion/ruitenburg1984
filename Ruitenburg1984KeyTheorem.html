<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Ruitenburg1984KeyTheorem</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Ruitenburg1984KeyTheorem</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab26"></a><h1 class="section">Ruitenburg1984KeyTheorem</h1>

<div class="paragraph"> </div>

 This file is a part of Tadeusz Litak's formalisation of W. Ruitenburg JSL 1984 paper 
"On the Period of Sequences (An(p)) in Intuitionistic Propositional Calculus" 
<div class="paragraph"> </div>

 It has been compiled and guaranteed to work with
The Coq Proof Assistant, version 8.4pl6 (September 2015)
(compiled  with OCaml 4.02.2) 
<div class="paragraph"> </div>

<a name="lab27"></a><h2 class="section">Contents</h2>

<div class="paragraph"> </div>

 This file contains the crucial Theorem 1.4 and the "Rieger-Nishimura" result it relies on.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="BoundsSubformulas.html#"><span class="id" title="library">BoundsSubformulas</span></a>.<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab28"></a><h2 class="section">"Rieger-Nishimura" Lemma</h2>

<div class="paragraph"> </div>

 Ruitenburg in the base case of his Theorem 1.4:
    "for all proposition variables a \neg p it follows that each subformula B(q) of A(q) is equivalent to a formula of the Rieger-Nishimura lattice."
 What is used in that proof is a specific result about formulas equivalent (in a given context) to one-variable ones,
 which can indeed be derived from the Rieger-Nishimura result, but can be also shown directly, which is what we're going to do here. 
<div class="paragraph"> </div>

<a name="lab29"></a><h3 class="section">Some tactics</h3>

<div class="paragraph"> </div>

 The tactic below is useful for applying transitivity of subformulas ... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">subfo</span> <span class="id" title="var">SfC</span> <span class="id" title="var">C1</span> <span class="id" title="var">C2</span> <span class="id" title="var">con1</span> <span class="id" title="var">con2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="BoundsSubformulas.html#Sfm_equivalent"><span class="id" title="lemma">Sfm_equivalent</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">SfC</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">con1</span> <span class="id" title="var">C1</span> <span class="id" title="var">C2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hC1&acute;</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">con2</span> <span class="id" title="var">C1</span> <span class="id" title="var">C2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hC2&acute;</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="BoundsSubformulas.html#sfm_tra"><span class="id" title="constructor">sfm_tra</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hC1&acute;</span> <span class="id" title="var">SfC</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hC1</span>;  <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="BoundsSubformulas.html#sfm_tra"><span class="id" title="constructor">sfm_tra</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hC2&acute;</span> <span class="id" title="var">SfC</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hC2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="BoundsSubformulas.html#Sfm_equivalent"><span class="id" title="lemma">Sfm_equivalent</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">hC1&acute;</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">hC2&acute;</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">SfC</span>.<br/>

<br/>
</div>

<div class="doc">
The next tactics is actually somewhat redundant. It is modelled after 
    <span class="inlinecode"><span class="id" title="var">subst_it</span></span> and <span class="inlinecode"><span class="id" title="var">subst_short</span></span> in the proof of the main result below, 
    but unlike these two in the end it got used in only one subcase of 
    of the inductive proof. Still, it is used twice in that particular spot,
    so its introduction can be justified by the famous rule "two or more, use a for". 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">subst_quick</span> <span class="id" title="var">H1</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">t</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#substituting_with_fresh"><span class="id" title="lemma">substituting_with_fresh</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#freshcon"><span class="id" title="lemma">freshcon</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#s_n_triv"><span class="id" title="lemma">s_n_triv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab30"></a><h3 class="section">The "Rieger-Nishimura" result itself</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span>  <a name="Rieger_Nishimura_corollary"><span class="id" title="lemma">Rieger_Nishimura_corollary</span></a> :<span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">B</span> <span class="id" title="var">v</span>, <a class="idref" href="HilbertIPCsetup.html#fresh_l_p"><span class="id" title="definition">fresh_l_p</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a>) -&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> : <a class="idref" href="HilbertIPCsetup.html#form"><span class="id" title="inductive">form</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="BoundsSubformulas.html#BoundSubformulas"><span class="id" title="definition">BoundSubformulas</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Ruitenburg1984KeyTheorem.html#C"><span class="id" title="variable">C</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <a class="idref" href="HilbertIPCsetup.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Ruitenburg1984KeyTheorem.html#C"><span class="id" title="variable">C</span></a>  ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span>  <span class="id" title="var">C</span>,  (<a class="idref" href="BoundsSubformulas.html#Subformulas"><span class="id" title="definition">Subformulas</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Ruitenburg1984KeyTheorem.html#C"><span class="id" title="variable">C</span></a> -&gt;  <a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> (<a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="Ruitenburg1984KeyTheorem.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#ff"><span class="id" title="constructor">ff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> (<a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="Ruitenburg1984KeyTheorem.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">&lt;&lt;-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> (<a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="Ruitenburg1984KeyTheorem.html#C"><span class="id" title="variable">C</span></a>.<br/>
</div>

<div class="doc">
Okay, now we get G |-- ff. Doesn't matter then which one we choose. 
</div>
<div class="code">

<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab31"></a><h2 class="section">Theorem 1.4</h2>

<div class="paragraph"> </div>

<a name="lab32"></a><h3 class="section">Some tactics</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">subfreshen</span> <span class="id" title="var">v</span> <span class="id" title="var">A</span> <span class="id" title="var">H</span> :=   <span class="id" title="tactic">apply</span> (<a class="idref" href="HilbertIPCsetup.html#hil_sub"><span class="id" title="lemma">hil_sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_n"><span class="id" title="definition">s_n</span></a> <span class="id" title="var">v</span> <span class="id" title="var">A</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#freshcon"><span class="id" title="lemma">freshcon</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#substituting_with_fresh"><span class="id" title="lemma">substituting_with_fresh</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>

<br/>
</div>

<div class="doc">
Tactics <span class="inlinecode"><span class="id" title="var">subst_it</span></span> and <span class="inlinecode"><span class="id" title="var">subst_short</span></span> are powerful macros which
        repeatedly prove useful for substitutions of derivable tautologies
        in the proof of Lemma 1.4 --- and are unlikely to be useful anywhere outside the proof.
        It is worth comparing them with <span class="inlinecode"><span class="id" title="var">subst_quick</span></span> above.
        Tactic <span class="inlinecode"><span class="id" title="var">freshB</span></span> is purely auxiliary. 
        Tactics <span class="inlinecode"><span class="id" title="var">rui_1_2_i_app</span></span> helps with some applications of Lemma 1.2, 
        but there is nothing special about it. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">subst_it</span> <span class="id" title="var">H1</span> <span class="id" title="var">t</span> <span class="id" title="var">H0</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">t</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#substituting_with_fresh"><span class="id" title="lemma">substituting_with_fresh</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">fold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#s_n_triv"><span class="id" title="lemma">s_n_triv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#f_p_unfold"><span class="id" title="lemma">f_p_unfold</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#s_n_neq"><span class="id" title="lemma">s_n_neq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">trivial</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#freshcon"><span class="id" title="lemma">freshcon</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">freshB</span> <span class="id" title="var">B</span> := <span class="id" title="tactic">subst</span> <span class="id" title="var">B</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HilbertIPCsetup.html#fresh_sub"><span class="id" title="lemma">fresh_sub</span></a>; <span class="id" title="tactic">trivial</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">subst_short</span> <span class="id" title="var">H1</span> <span class="id" title="var">t</span> <span class="id" title="var">B</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">t</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#substituting_with_fresh"><span class="id" title="lemma">substituting_with_fresh</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">fold</span> <a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#s_n_triv"><span class="id" title="lemma">s_n_triv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#f_p_unfold"><span class="id" title="lemma">f_p_unfold</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#freshcon"><span class="id" title="lemma">freshcon</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 (<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#trivial_sub"><span class="id" title="lemma">trivial_sub</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="HilbertIPCsetup.html#trivial_sub"><span class="id" title="lemma">trivial_sub</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span> <a class="idref" href="HilbertIPCsetup.html#fresh_sub_gen"><span class="id" title="lemma">fresh_sub_gen</span></a>; <span class="id" title="tactic">trivial</span>]]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">freshB</span> <span class="id" title="var">B</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="HilbertIPCsetup.html#fresh_sub"><span class="id" title="lemma">fresh_sub</span></a>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">constructor</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rui_1_2_i_app</span> <span class="id" title="var">G</span> := <span class="id" title="tactic">eapply</span> <a class="idref" href="HilbertIPCsetup.html#hil_permute"><span class="id" title="lemma">hil_permute</span></a>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="HilbertIPCsetup.html#hil_weaken_gen"><span class="id" title="lemma">hil_weaken_gen</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">G&acute;</span> := <span class="id" title="var">G</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
here we use Lemma 1.2 i 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="HilbertIPCsetup.html#rui_1_2_i_col1"><span class="id" title="lemma">rui_1_2_i_col1</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">equal_lists</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab33"></a><h3 class="section">Main result</h3>

<div class="paragraph"> </div>

 And now the crucial result itself! 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a name="rui_1_4"><span class="id" title="lemma">rui_1_4</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">G</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Sets.Ensembles.html#Included"><span class="id" title="definition">Included</span></a> (<a class="idref" href="BoundsSubformulas.html#BoundSubformulas"><span class="id" title="definition">BoundSubformulas</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="BoundsSubformulas.html#BoundSubformulas"><span class="id" title="definition">BoundSubformulas</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a>) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G&acute;</span> :=  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#f_p"><span class="id" title="definition">f_p</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <a class="idref" href="HilbertIPCsetup.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b&acute;</span> := (<a class="idref" href="BoundsSubformulas.html#App"><span class="id" title="definition">App</span></a> <a class="idref" href="HilbertIPCsetup.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#b"><span class="id" title="variable">b</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="BoundsSubformulas.html#Bound"><span class="id" title="definition">Bound</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#G&acute;"><span class="id" title="variable">G&acute;</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#b&acute;"><span class="id" title="variable">b&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Sets.Finite_sets.html#cardinal"><span class="id" title="inductive">cardinal</span></a> <a class="idref" href="HilbertIPCsetup.html#form"><span class="id" title="inductive">form</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#n"><span class="id" title="variable">n</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HilbertIPCsetup.html#fresh_l_p"><span class="id" title="definition">fresh_l_p</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="HilbertIPCsetup.html#p"><span class="id" title="definition">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#G"><span class="id" title="variable">G</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#f_p"><span class="id" title="definition">f_p</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#697e4695610f677ae98a52af81f779d2"><span class="id" title="notation">*</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#n"><span class="id" title="variable">n</span></a>)<a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#G&acute;"><span class="id" title="variable">G&acute;</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#c010cf1cb52f30611e54bc6e43e4f13c"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> (<a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">&lt;&lt;-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <a class="idref" href="HilbertIPCsetup.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="HilbertIPCsetup.html#c010cf1cb52f30611e54bc6e43e4f13c"><span class="id" title="notation">)</span></a> <a class="idref" href="HilbertIPCsetup.html#c010cf1cb52f30611e54bc6e43e4f13c"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HilbertIPCsetup.html#c010cf1cb52f30611e54bc6e43e4f13c"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> <a class="idref" href="HilbertIPCsetup.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a><a class="idref" href="HilbertIPCsetup.html#c010cf1cb52f30611e54bc6e43e4f13c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#f_p"><span class="id" title="definition">f_p</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#697e4695610f677ae98a52af81f779d2"><span class="id" title="notation">*</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#n"><span class="id" title="variable">n</span></a>)<a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#G&acute;"><span class="id" title="variable">G&acute;</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> (<a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">&lt;&lt;-&gt;&gt;</span></a>  <a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="HilbertIPCsetup.html#597b1e3cd51d3c88e465ca1f5d537f12"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#f_p"><span class="id" title="definition">f_p</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#A"><span class="id" title="variable">A</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#697e4695610f677ae98a52af81f779d2"><span class="id" title="notation">*</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#n"><span class="id" title="variable">n</span></a>)<a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">-&gt;&gt;</span></a> <a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">(</span></a><a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="HilbertIPCsetup.html#2535cf47490c9a77de9702f09d160cfc"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><a class="idref" href="Ruitenburg1984KeyTheorem.html#G&acute;"><span class="id" title="variable">G&acute;</span></a> <a class="idref" href="HilbertIPCsetup.html#fd7108c1af066d0d1b6d0d39022ed30f"><span class="id" title="notation">|--</span></a> <a class="idref" href="HilbertIPCsetup.html#sub"><span class="id" title="definition">sub</span></a> (<a class="idref" href="HilbertIPCsetup.html#s_p"><span class="id" title="definition">s_p</span></a> (<a class="idref" href="HilbertIPCsetup.html#var"><span class="id" title="constructor">var</span></a> <a class="idref" href="Ruitenburg1984KeyTheorem.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="Ruitenburg1984KeyTheorem.html#B"><span class="id" title="variable">B</span></a>.<br/>
</div>

<div class="doc">
The case of i = 0 not explicitly discussed in the original paper! 
</div>
<div class="code">
</div>

<div class="doc">
Seems we have a point not mentioned openly in 
                    Ruitenburg: what if i : = 0
                i.e., f_p A i = p ? 
             or what if p does not appear in A but is equal to v? 
             of course, these cases seem rather trivial, 
             but still need to be taken care of in formalization...
             This is why I added explicit assumption that v is fresh for p It is also not immediately obvious  in the original paper 
                where does one use rui_1_2.
                The development below should make it clear. 
</div>
<div class="code">
</div>

<div class="doc">
strictly speaking, rui_premb is not necessary here. The job would get done by rui_1_2_i,
                but it is simpler not having to use weakening etc. 
</div>
<div class="code">
</div>

<div class="doc">
here we use Lemma 1.2 ii 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
In the most involved case of difficult subconjunct of 
                                the difficult conjunct below, we will need the original 
                                equivalence between the variable and the  antecedent of implication,
                                hence we keep a copy.
                                Otherwise, however, all we will need is substitution with tt: 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
We flip the order of conjuncts, doing the easier part first.
               Note that the "easier part" was the difficult one in the previous subcase,
               whereas the one which is difficult one was solved immediately before;
               this is why we will be one nesting level deeper in this subcase. 
</div>
<div class="code">
</div>

<div class="doc">
flipping conjuncts again to do the easy one first ... 
</div>
<div class="code">
</div>

<div class="doc">
Now we have a long block where we just 
                        follow the same sequence of steps as the last time we used IH. 
</div>
<div class="code">
</div>

<div class="doc">
This is where we use H5', a copy of 
                                original H5 which we wisely created above. 
</div>
<div class="code">
</div>

<div class="doc">
Ruitenburg: "Then Gs |-- B(T) -&gt; A^{2n-1}(p)"  The whole use of induction in this particular subcase is hidden in this assertion! 
                        The assertion also uses 1.2 (ii) 
</div>
<div class="code">
</div>

<div class="doc">
this is where we use 
                                                        the previous lemma. 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
conjunction does not require IH at all.  Inductive step for conjunction. 
</div>
<div class="code">
</div>

<div class="doc">
case (i) in Ruitenburg's table: all entries are (i), so we can go left. 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
last argument is dummy 
</div>
<div class="code">
</div>

<div class="doc">
no need for IH when disjunction is concerned. 
</div>
<div class="code">

<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab34"></a><h2 class="section">Corollary 1.5</h2>

</div>
<div class="code">

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>